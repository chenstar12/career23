### 反射？

反射：框架的灵魂；**运行时**获取类的属性和方法、调用方法和属性；

### 反射机制的优缺点

- **优点** ： 代码更灵活、赋予各种框架开箱即用的功能；
- **缺点** ：运行时分析、操作类，增加了安全问题。如：无视泛型参数的安全检查（发生在编译时）；反射的性能较差，但对框架的实际影响不大；

### 反射的应用场景

业务代码不会接触反射机制；Spring/Spring Boot、MyBatis 都大量使用了反射机制、**动态代理（依赖于反射）**；

- 动态代理：用反射类 `Method` 调用指定方法;
- Java注解的实现也用反射：Spring 一个`@Component`就声明了一个类为 Spring Bean ；一个 `@Value`就读取到配置文件中的值；

基于反射分析类，获取到属性/方法上的注解；做进一步的处理。



**`Annotation` （注解）** ： Java5 的新特性，用于修饰类、方法、变量；

注解只有解析后才生效，解析方法有两种：

- **编译期直接扫描** ：比如某方法用`@Override` 注解，编译时会检测是否重写了父类对应的方法；
- **运行期的反射** ：框架中的注解(如 Spring 的 `@Value` 、`@Component`)都是用反射来处理；
