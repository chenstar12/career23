---
layout: post
title:  "计算机网络-Computer Network"
date:   2010-08-01 23:42:00
categories: 计算机基础
tags: 网络 OSI 路由器 交换器 调制解调器 猫 lan wan wlan ap tcp udp
excerpt: 计算机网络知识点
mathjax: true
permalink: /network
---

* content
{:toc}

# 总结

- 【2022-3-30】[60 张图详解 98 个常见网络概念](https://www.toutiao.com/article/7080442955122606624/)
- [2017-9-19]视频集合：[内存原理解析](http://www.365yg.com/group/6467022800149283342/),[CPU缓存原理解析](http://www.365yg.com/group/6467021466209616397/),[TCP,UDP协议原理对比](http://www.365yg.com/group/6467022804800766477/)，【2019-10-26】[动画讲解TCP，再不懂请来打我](https://www.toutiao.com/a6751645874356486664/?timestamp=1572010379&app=news_article_lite&group_id=6751645874356486664&req_id=201910252132580100260771991F3BD7D6),[IPv4,IPv6原理解析](http://www.365yg.com/group/6467021492105249293/)，[代理服务器原理解析](http://www.365yg.com/group/6467022795812373005/)，[集线器-交换机-路由器区别](http://www.365yg.com/group/6467021483385291277/)，[DNS域名解析](http://www.365yg.com/group/6467021479107101197/)，[超线程原理解析](http://www.365yg.com/group/6467021487722201614/),[磁盘碎片原理解析](http://www.365yg.com/group/6467021470504583693/)
- 【2021-3-19】如何跟小白解释路由器和交换机的区别？并且家用路由器充当了路由器和交换机的功能吗？[薛定谔不在家的回答](https://www.zhihu.com/question/22007235/answer/402261894)
  - 总结：交换机适合局域网内互联，路由器实现全网段互联。猫的学名叫**调制解调器**，作用是将数字信号（电脑想要发送的信息）转换成模拟信号（网线中的电流脉冲）从而使信息在网线中传输。由于计算机的一切信号都要由电流脉冲传送出去，因而猫是必须的。目前的家用路由器一般都是**路由猫**，即路由器兼顾了猫和简单交换机的功能，因而在选购时，选一款性价比超高的路由猫就可以了。至于物理地址，逻辑地址，交换机与路由器的寻址方式等问题属于更专业的范畴
  - ![](https://pic1.zhimg.com/80/v2-6c49ad959be632e15b3f3ad70949a98e_1440w.jpg?source=1940ef5c)
- 【2018-3-13】松果云科普：动画解释，[详解硬盘工作原理](https://www.365yg.com/a6524897664687931911)，[详解显卡工作原理：GPU和CPU的区别](https://www.365yg.com/i6525769921438155272)
- 【2021-4-12】[天线是如何工作的](https://v.ixigua.com/e63CMmo/)


# 网络结构

## 互联网

互联网（ Internet ）：通过各种**互联网协议**为全世界成千上万的设备建立互联的**全球计算机网络系统**。
- 互联网 → 路由器 → 手机（家庭设备）
- ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/a2396d3285dd4bba9971e3c74c3a4d1e?from=pc)

种类：
- 局域网（ LAN ）：在一个有限区域内实现终端设备互联的网络。
- 城域网（ MAN ）：规模大于局域网，覆盖区域小到一个方圆数千米的大型园区，大到一个城市圈的网络。
- 广域网（ WAN ）：跨越大范围地理区域建立连接的网络。

## 物联网

物联网（ IoT ）：通过内置**电子芯片**的方式，将各种**物理设备**连接到网络中，实现**多元**设备间信息交互的网络。

## 云计算

云计算（ Cloud Computing ）：通过互联网为计算机和其它设备提供处理资源共享的网络。

大数据（ Big Data ）：通过汇总的计算资源对庞大的数据量进行分析，得出更加准确的预测结论，并用来指导实践。

## 万维网

万维网（ WWW ）：可以通过 URL 地址进行定义、通过 HTTP/HTTPS 协议建立连接、通过互联网进行访问的网页资源空间。
- `客户端`上的`浏览器`访问网页 → `互联网` → `服务器`
- ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/362db9fd04464cbd8989c0d840ed6221?from=pc)

Web ：万维网的简称，将设备相互连接起来，以将设备中的数据以超文本形式提供给请求方的网络。

## 通信连接

- 服务器-客户端模型：一种应用层协议模型，这种模型的应用程序是由专门的主机为其它主机提供服务。
- P2P 模型：一种应用层协议模型，这种模型的应用协议会在主机之间建立对等体连接，每台主机身份对等，它们可以提供服务，也可以接受服务。

- Telnet ：由管理设备充当客户端，向充当服务器的被管理设备建立连接，以对其实施远程管理的应用层协议。
  - ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/fe15e63a65ba46c9b8ebe5fd2c269705?from=pc)
- Shell ：操作系统提供给用户操作设备的接口。
- SSH ：由管理设备充当客户端，向充当服务器的被管理设备建立安全连接，以对其实施安全远程管理的应用层协议。
  - ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/c3aa4ab96ee94a7da0eb6e9bee00d56b?from=pc)

## 操作系统

操作系统：一种安装在智能设备上，为操作智能设备消除硬件差异，并为程序提供可移植性的软件平台。
- 硬件（CPU/IO.存储器） → 操作系统 → 程序
- ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/40acfcbb7d374e0da0146f8a4fcab17a?from=pc)

按交互方式划分：
- **图形用户界面**（ GUI ）：指用户在大部分情况下可以通过点击图标等可视化图形来完成设备操作的软件界面。
- **命令行界面**（ CLI ）：指用户需要通过输入文本命令来完成设备操作的软件界面。

## 计算机硬件

整体关系：
- 内存、ROM、NVRAM → RAM → CPU
- ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/db7c163beea24b2e8db7f882fb50549b?from=pc)

详解
- RAM ：随机存取存储器的简称，也叫做内存。安装在数通设备上与安装在计算机中的作用相同，即用于存储临时文件，断电内容消失。
- Flash ：安装在数通设备上，与计算机硬盘的功能类似，用来存放包括操作系统在内的大量文件。
- NVRAM ：非易失随机存取存储器的简称。用来保存数通设备的启动配置文件，断电不会消失。
- Console 接口：即控制台接口，通过 Console 线缆连接自己的终端和数通设备的 Console 接口，使用终端模拟软件对数通设备进行本地管理访问。
  - ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/9fc808dc92d340bd9ad74013b1276186?from=pc)


## MAC地址

MAC（Media Access Control，介质访问控制）地址，或称为**物理地址**，也叫硬件地址，用来定义网络设备的位置，MAC地址是网卡出厂时设定的，是固定的（但可以通过在设备管理器中或注册表等方式修改，同一网段内的MAC地址必须唯一）。MAC地址采用十六进制数表示，长度是6个字节（48位），分为前24位和后24位。
- 1、前24位叫做组织唯一标志符（Organizationally Unique Identifier，即OUI），是由IEEE的注册管理机构给不同厂家分配的代码，区分了不同的厂家。
- 2、后24位是由厂家自己分配的，称为扩展标识符。同一个厂家生产的网卡中MAC地址后24位是不同的。

MAC地址对应于OSI参考模型的第二层数据链路层，工作在数据链路层的交换机维护着计算机MAC地址和自身端口的数据库，交换机根据收到的数据帧中的“目的MAC地址”字段来转发数据帧。

MAC 地址：长度 48 位，固话在设备硬件上，用十六进制表示的数据链路层地址。
- ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/2694fa7b9a7443779807d9ac25900752?from=pc)

## ip地址

【2018-11-3】[IP地址详解](http://blog.51cto.com/6930123/2112403)

【2022-4-5】[计算机是如何通信的？IP地址与mac地址是什么？](https://www.ixigua.com/6958363991613637133)

<iframe width="720" height="405" frameborder="0" src="https://www.ixigua.com/iframe/6958363991613637133?autoplay=0" referrerpolicy="unsafe-url" allowfullscreen></iframe>


### ip地址介绍

`IP地址`（Internet Protocol Address），缩写为IP Adress，是一种在Internet上的给主机统一编址的地址格式，也称为**网络协议**（IP协议）地址。它为互联网上的每一个网络和每一台主机分配一个**逻辑地址**，常见的IP地址，分为IPv4与IPv6两大类，当前广泛应用的是IPv4，目前IPv4几乎耗尽，下一阶段必然会进行版本升级到IPv6；如无特别注明，一般我们讲的的IP地址所指的是IPv4。
- ![](https://s4.51cto.com//images/blog/201805/04/01b93a1d0acac52cc0bd4878696d4098.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=)
IP地址对应于OSI参考模型的第三层网络层，工作在网络层的路由器根据目标IP和源IP来判断是否属于同一网段，如果是不同网段，则转发数据包。

分类：
- IPv4 ：互联网协议第 4 版，协议定义的地址空间已用完，但还是目前使用最广泛的互联网协议规范。
  - ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/de347b0260694d75ab90780340b7901c?from=pc)
- IPv6 ：互联网协议第 6 版，也就是新版互联网协议，能提供比 IPv4 协议更广泛的地址空间。

`IP地址`(IPv4)由32位二进制数组成，分为4段（4个字节），每一段为8位二进制数（1个字节）; 每一段8位二进制，中间使用英文的标点符号“.”隔开
- 由于二进制数太长，为了便于记忆和识别，把每一段8位二进制数转成十进制，大小为0至255。IP地址的这种表示法叫做“**点分十进制表示法**”。
- IP地址表示为：xxx.xxx.xxx.xxx，举个栗子：210.21.196.6就是一个IP地址的表示。


IP地址的组成
- IP地址 = **网络**地址 + **主机**地址
- ![](https://s4.51cto.com//images/blog/201805/03/ac3c6598dd24b25dc9b01bb60b15d725.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=)
- ![](https://s4.51cto.com//images/blog/201805/04/63174612ee1ad4b44480965034a56187.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=)

- 掩码：一种与 IPv4 地址长度相同，也是使用点分十进制表示法的编码，作用是描述 IPv4 地址中网络位的长度。
- 网络位：IP 地址中用来表示设备所在网络的地址位，位于 IP 地址的前面。
- 主机位：IP 地址中用来表示网络中的编号的地址位，位于 IP 地址的后面。
- 有类编址：将 IP 地址通过前 4 位二进制数分为 A 、B 、C 、D 等类别，并按照类别固定网络位长度的编址方式。
- 无类编址：打破 IP 地址类别的限制，不以 IP 地址前几位二进制数的取值来固定网络位长度的编址地址。

![img](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/dad35aaff8614422bac08aee8b4fd450?from=pc)

### ip地址与mac地址

IP地址与MAC地址区别
- 长度不同：IP地址为32位（二进制），MAC地址为48位（十六进制）。
- 分配依据不同：IP地址的分配是基于网络拓扑，MAC地址的分配是基于制造商。
- 寻址协议层不同：IP地址应用于OSI第三层（网络层），而MAC地址应用在OSI第二层（数据链路层）。

IP和MAC两者之间分工明确，默契合作，完成通信过程。在数据通信时
- IP地址专注于**网络层**，网络层设备（如路由器）根据IP地址，将数据包从一个网络传递转发到另外一个网络上；
- 而MAC地址专注于**数据链路层**，数据链路层设备（如交换机）根据MAC地址，将一个数据帧从一个节点传送到相同链路的另一个节点上。
- IP和MAC地址这种映射关系由 **ARP**（Address Resolution Protocol，地址解析协议）协议完成，ARP根据目的IP地址，找到中间节点的MAC地址，通过中间节点传送，从而最终到达目的网络。
- ![](https://s4.51cto.com//images/blog/201805/04/3c9770b7936b27d2b955b1703d13dbbb.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=)


### ip地址分类

IP地址分A、B、C、D、E五类，其中A、B、C这三类是比较常用的IP地址，D、E类为特殊地址。
- ![](https://s4.51cto.com//images/blog/201805/04/d8edafebca5bbbf1d5bb35cef4156026.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=)

- ①、**A类**地址
  - A类地址第1字节为网络地址（最高位固定是0），另外3个字节为主机地址。
  - A类地址范围：1.0.0.0 - 126.255.255.255，其中0和127作为特殊地址。
  - A类网络默认子网掩码为255.0.0.0，也可写作/8。
  - A类网络最大主机数量是256×256×256-2=166777214（减去1个主机位为0的网络地址和1个广播地址）。
  - 在计算机网络中，主机ID全部为0的地址为网络地址，而主机ID全部为1的地址为广播地址，这2个地址是不能分配给主机用的。
- ②、**B类**地址
  - B类地址第1字节（最高位固定是10）和第2字节为网络地址，另外2个字节为主机地址。
  - B类地址范围：128.0.0.0 - 191.255.255.255。
  - B类网络默认子网掩码为255.255.0.0，也可写作/16。
  - B类网络最大主机数量256×256-2=65534。
- ③、**C类**地址
  - C类地址第1字节（最高位固定是110）、第2字节和第3个字节，另外1个字节为主机地址。
  - C类地址范围：192.0.0.0 - 223.255.255.255。
  - C类网络默认子网掩码为255.255.255.0，也可写作/24。
  - C类网络最大主机数量256-2=254。
- ④、**D类**地址
  - D类地址不分网络地址和主机地址，它的第1个字节的最高位固定是1110。
  - D类地址用于组播（也称为多播）的地址，无子网掩码。
  - D类地址范围：224.0.0.0 - 239.255.255.255。
- ⑤、**E类**地址
  - E类地址也不分网络地址和主机地址，它的第1个字节的最高位固定是11110。
  - E类地址范围：240.0.0.0 - 255.255.255.255。
  - 其中240.0.0.0-255.255.255.254作为保留地址，主要用于Internet试验和开发，255.255.255.255作为广播地址。
总结
- ![](https://s4.51cto.com//images/blog/202001/05/6187e6bd1d31364a8bda03f376b30351.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=)

### 特殊IP地址

以下这些特殊IP地址都是不能分配给主机用的地址：
- 主机ID全为0的地址：特指某个网段，比如：192.168.10.0 255.255.255.0，指192.168.10.0网段。
- 主机ID全为1的地址：特指该网段的**全部**主机，比如：192.168.10.255，如果你的计算机发送数据包使用主机ID全是1的IP地址，数据链层地址用广播地址FF-FF-FF-FF-FF-FF。
- 127.0.0.1：是**本地环回**地址，指**本机**地址，一般用来测试使用。回送地址(127.x.x.x)是本机回送地址(Loopback Address)，即主机IP堆栈内部的IP地址。
- 169.254.0.0：169.254.0.0-169.254.255.255实际上是自动私有IP地址。
- 0.0.0.0：如果计算机的IP地址和网络中的其他计算机地址冲突，使用ipconfig命令看到的就是0.0.0.0，子网掩码也是0.0.0.0。
总结
- ![](https://s4.51cto.com//images/blog/201805/04/e664d181be8697229b52f2af236afae7.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=)

### 公网和私网IP地址

- 公网IP地址
  - 公有地址分配和管理由Inter NIC（Internet Network Information Center 因特网信息中心）负责。各级ISP使用的公网地址都需要向Inter NIC提出申请，有Inter NIC统一发放，这样就能确保地址块不冲突。
- 私网IP地址
  - 创建IP寻址方案的人也创建了私网IP地址。这些地址可以被用于私有网络，在Internet没有这些IP地址，Internet上的路由器也没有到私有网络的路由表。
  - A类：10.0.0.0 255.0.0.0，保留了1个A类网络。
  - B类：172.16.0.0 255.255.0.0～172.31.0.0 255.255.0.0，保留了16个B类网络。
  - C类：192.168.0.0 255.255.255.0～192.168.255.0 255.255.255.0，保留了256个C类网络。
  - PS：私网地址访问Internet需要做NAT或PAT网络地址转换
- ![](https://s4.51cto.com//images/blog/201805/04/8a53e6b9c1051bd5bda08364dd1ea4b1.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=)
总结
- ![](https://s4.51cto.com//images/blog/201805/04/b00638fef79863c0e1958bb912a52d7d.png?x-oss-process=image/watermark,size_16,text_QDUxQ1RP5Y2a5a6i,color_FFFFFF,t_100,g_se,x_10,y_10,shadow_90,type_ZmFuZ3poZW5naGVpdGk=)

## DNS 域名解析

【2022-3-10】[网络基础知识之————A记录和CNAME记录的区别](https://developer.aliyun.com/article/311926)

DNS ：全称是域名服务的应用层协议，向请求解析域名 IP 地址的客户端提供域名和地址解析服务。
- ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/ba3d29c8987f42b49760a2d079455a06?from=pc)

### 1、什么是域名解析？

域名解析就是国际域名或者国内域名以及中文域名等域名申请后做的到IP地址的转换过程。IP地址是网路上标识您站点的数字地址，为了简单好记，采用域名来代替ip地址标识站点地址。域名的解析工作由DNS服务器完成。
- ![](https://yqfile.alicdn.com/img_34fbc1d1bdd522366ab29fbda03c31e0.png)

### 2、什么是A记录？

A (Address) 记录是用来指定主机名（或域名）对应的IP地址记录。用户可以将该域名下的网站服务器指向到自己的web server上。同时也可以设置您域名的二级域名。
- ![](https://yqfile.alicdn.com/img_2068936ddf04bb6064eb3795e5f5b6da.png)


### 3、什么是CNAME记录？

即：别名记录。这种记录允许您将多个名字映射到另外一个域名。通常用于同时提供WWW和MAIL服务的计算机。例如，有一台计算机名为“host.mydomain.com”（A记录）。它同时提供WWW和MAIL服务，为了便于用户访问服务。可以为该计算机设置两个别名（CNAME）：WWW和MAIL。这两个别名的全称就 http://www.mydomain.com/ 和 “mail.mydomain.com”。实际上他们都指向“host.mydomain.com”。
- ![](https://yqfile.alicdn.com/img_19231a2b40654536c3278c145fd6f122.png)

### 区别

A记录和CNAME进行域名解析的区别
- A记录就是把一个域名解析到一个IP地址（Address，特制数字IP地址），而CNAME记录就是把域名解析到另外一个域名。
- 其功能是差不多，CNAME将几个主机名指向一个**别名**，其实跟指向IP地址是一样的，因为这个别名也要做一个A记录的。但是使用CNAME记录可以很方便地变更IP地址。如果一台服务器有100个网站，他们都做了别名，该台服务器变更IP时，只需要变更别名的A记录就可以了。

![](https://yqfile.alicdn.com/img_b846fe5c2fac9eae6376782c85979f89.png)

域名解析CNAME记录A记录哪一种比较好？如果论对网站的影响，就没有多大区别。但是：CNAME有一个好处就是稳定，就好像一个IP与一个域名的区别。服务商从方便维护的角度，一般也建议用户使用CNAME记录绑定域名的。如果主机使用了双线IP，显然使用CNAME也要方便一些。

A记录也有一些好处，例如可以在输入域名时不用输入WWW.来访问网站哦！从SEO优化角度来看，一些搜索引擎如alex或一些搜索查询工具网站等等则默认是自动去掉WWW.来辨别网站，CNAME记录是必须有如：WWW(别名)前缀的域名，有时候会遇到这样的麻烦，前缀去掉了默认网站无法访问。

## 端口

- 端口号：取值范围是 0 ~ 65535 ，传输层协议通过端口号来区分不同的应用层程序。端口号由 IANA 统一管理，分为知名端口、注册端口和动态端口。
- 知名端口：端口号范围是 0 ~ 1023 ，这些端口用于特定的服务和应用层程序，使客户端应用层程序能够顺利请求服务器的特定服务。
- 注册端口：端口号范围是 1024 ~ 49151 ，这些是分配给终端用户应用层程序的端口号，主要针对用户自行安装的程序，而不是已经拥有了知名端口的应用层程序。当系统中没有任何资源占用这类端口时，客户端就可以在这个范围内动态选择源端口。
- 动态端口：端口号范围是 49152 ~ 65535 ，客户端在开始连接服务器时，会动态选用某个端口做为自己的源端口。
- 套接字：由 IP 地址和端口号组成的格式，能够唯一标识一台终端设备上的一个应用层协议。


# 网络设备

网络硬件（如路由器、交换机、Modem）往往被解释的很复杂，难于理解；稍微简单的方式去解释各个网络硬件的功能

参考：
- [理解几个网络硬件（调制解调器、路由器、交换机）的基本作用](https://blog.csdn.net/pan_tian/article/details/12339629)
- [调制解调器、中继器、集线器、网桥、交换机、路由、网关](https://blog.csdn.net/qingkongyeyue/article/details/52279893)

【2022-4-5】[家庭网络如何通过路由器上网？](https://www.ixigua.com/6962843320791859749)

<iframe width="720" height="405" frameborder="0" src="https://www.ixigua.com/iframe/6962843320791859749?autoplay=0" referrerpolicy="unsafe-url" allowfullscreen></iframe>


## 传播方式

- 单播：一对一的数据发送方式。
  - ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/38f21013cb634c06bd61838384fae588?from=pc)
- 组播：通过多个节点共同加入一个感兴趣组，实现一对多的数据发送方式。
  - ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/9f1522b2b94f49ee88510b7ad74f2df7?from=pc)

广播域：在这个区域中，各个节点都可以收到其它节点发送的广播数据包。
- ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/b23e12b874744d9ca9781daf7b0ba2fc?from=pc)

## 线路

双绞线：将两根互相绝缘的导线按一定规格缠绕在一起，以便它们互相冲抵干扰，从而形成的通信介质。
- ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/cf488fe3b6214cfaa94f309d2942ae3a?from=pc)

光纤：为实现数据通信，利用全反射原理传输光线的玻璃纤维载体。
- ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/177d678c4303421986cfa5b4fd0e0128?from=pc)


## 调制解调器 Modem （猫）

**调制解调器**，专业解释是**数模转换器**
- 调制：把计算机的**数字**信号变成**模拟**信号在电话线（电话线只接模拟信号）里通过。
- 解调：电话线里的**模拟**信号变成计算机认识的**数字**信号。


一个家庭最简单的网络部署图。台式机通过Modem，连接到网络服务商，最后连接到Internet。
- `ISP` -> `Modem` -> `PC`
- ![](https://img-blog.csdn.net/20131006101724406?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcGFuX3RpYW4=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

如Modem一种是中兴的ZXV10 H108L ADSL**宽带猫**。猫一般不用自购，多为**网络服务提供商**（中国电信、铁通...）提供，它把计算机的**数字**信号翻译成可沿普通电话线传送的**模拟**信号，然后模拟信号通过 ISP 连接到Internet

现在很多的Modem都具有**路由**功能，允许多台电脑同时上网，但这个路由功能最后都被运营商给封了，电信巴不得你一台电脑一个猫。不过有破解电信猫实现路由功能的方法


## 中继器

简单的**信号放大器**，信号在传输的过程中是要衰减的，中继器的作用就是将信号放大，使信号能传的更远。 

## 集线器（hub）

多个多端口的中继器，把每个输入端口的信号放大再发到别的端口去，集线器可以实现多台计算机之间的互联，因为它有很多的端口，每个口都能连计算机。 

- 冲突域：通过共享媒介连接在一起的设备，共同构成的网络区域。在这个区域内，同时只能一台设备发送数据包。
- **共享型**以太网：所有连网设备处在一个**冲突域**中，需要**竞争**发送资源的以太网环境。
  - ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/fd7c73e3565a40359c24d3418ccf632b?from=pc)
- **交换型**以太网：连网设备互相之间不需要竞争发送资源，而是分别与**中心设备**组成点到点连接的以太网环境。
  - ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/dde50a04f59f41828e6554f69a3f5cda?from=pc)

## 网桥（局域网间访问）

用集线器组个局域网A，别人用另一个集线器组个局域网网B, 每个局域网里的电脑都能互相访问。但是A里的电脑想访问B里的电脑怎么办，这里就用到网桥了，用网桥来连接2个局域网。如果说集线器是1层设备的话，那么网桥就是2层设备。
- ![](https://img-blog.csdn.net/20160822203349446?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)



## 交换器（高级网桥）

交换机，可以理解为高级的网桥，他有网桥的功能，但性能比网桥强 

一般家用路由器有4个**局域网接口**，超过4个设备要连入网络的话，就要用到**交换机**了。
- `ISP` -> `Modem` -> `Router` -> `Switch`  -> `PC`s (4个以上终端)
- ![](https://img-blog.csdn.net/20131006101845765?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcGFuX3RpYW4=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)
- 交换机可以把连入的设备组成一个**小型局域网**，再通过路由器连到外部网络中去。
一个8口交换机，可以连通8台LAN设备
- ![](https://img-blog.csdn.net/20131006101905312?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcGFuX3RpYW4=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

## 路由器 Router

交换机负责每个局域（冲突域）之间的连接，只管转发这些广播，不管广播的合理性以及真实性。但整个网络计算机的数量足够大时，这么多的机器都要广播，那么这些广播信息将占用很大的带宽，造成**网络堵塞**，反而导致正常的通信不能进行，这时候怎么办~~

路由就干这个的，交换机把数据给路由，路由决定是否转发，比交换机智能点。这样能避免过多的广播造成网络堵塞。 现在路由多用在分内外网上

在Modem和终端设备间，增加了（无线）路由器（Router）就可以实现多台电脑同时上网
- `ISP` -> `Modem` -> `Router` -> `PC`s (Desktop+Laptop)
- ![](https://img-blog.csdn.net/20131006101802531?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcGFuX3RpYW4=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast)

路由器与交换机
- 交换机创建网络：方便同一网络下多台设备互通
- 路由器连接各个网络

> Switches create a network. Routers connect networks. A router links computers to the Internet, so users can share the connection. A router acts as a dispatcher, choosing the best path for information to travel so it's received quickly.

OSI模型上，交换机位于第二层的Datalink层，路由器位于第三层网络层。

- 路由：是指路由器的路由表中用来标识路径信息的条目，也指路由器利用路由条目转发数据的操作。
  - ![img](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/5b9394523ca54f9c97c3bc38147f5ccc?from=pc)
- 路由表：路由设备中用来存放路由条目的数据表，路由设备依据路由表中的信息进行转发判断。
- 路由协议：定义路由设备之间如何交换路径信息、交换何种信息，以及路由设备如何根据这些信息计算出去往各个网络最佳路径等选路操作相关事项的协议。

很多家用网络设备都兼具多项功能，如图里的路由器既有路由器功能也具有交换机的功能，路由功能联通内部局域网和外部的Internet网络，还有交换机的功能，可以在内网中联通多台设备。
-  TP-LINK TL-WR541G+ 54M无线路由器，含有4个10/100M局域网接口，无线网络速率可达到54Mb/s

【2022-4-5】[交换器和路由器区别](https://www.ixigua.com/6960673453431226893)

<iframe width="720" height="405" frameborder="0" src="https://www.ixigua.com/iframe/6960673453431226893?autoplay=0" referrerpolicy="unsafe-url" allowfullscreen></iframe>

### WAN/LAN/WLAN

一般路由器的LAN口用颜色和WAN口区分，一般LAN口数目会多于WAN口。

- （1）`LAN` 全称Local Area Network，中文名叫**局域网**
  - LAN是指在某一区域内由多台计算机互联成的计算机组。一般是方圆几千米以内。局域网可以实现文件管理、应用软件共享、打印机共享、工作组内的日程安排、电子邮件和传真通信服务等功能。局域网是封闭型的，可以由办公室内的两台计算机组成，也可以由一个公司内的上千台计算机组成。
  - ![](https://imgsa.baidu.com/exp/w=500/sign=d37b5af8ed24b899de3c79385e071d59/d6ca7bcb0a46f21f454a2eabf2246b600d33aec8.jpg)
  - 路由器组网一般组建的都是LAN网络，用户在局域网里通信、传输文件。获取到的是内部IP，LAN 内部是交换机。可以不连接 WAN 口，把路由器当做普通交换机来使用
  - LAN的场景：
    - 1，接电脑的网线，需要插到路由器的LAN口
    - 2，二级路由，一般都是从上级路由的LAN口接线
    - ![](https://imgsa.baidu.com/exp/w=500/sign=a94d08c06a061d957d4637384bf50a5d/bf096b63f6246b600c7fc38ceff81a4c500fa2d0.jpg)
- （2）`WAN` 全称Wide Area Network，中文名叫**广域网**
  - WAN是一种跨越大的、地域性的计算机网络的集合。通常跨越省、市，甚至一个国家。广域网包括大大小小不同的子网，子网可以是局域网，也可以是小型的广域网。
  - ![](https://imgsa.baidu.com/exp/w=500/sign=2518c479cf1349547e1ee864664f92dd/cc11728b4710b912b33b8a06c7fdfc039345224b.jpg)
  - WAN：接外部 IP 地址用，通常指的是出口，转发来自内部 LAN 接口的 IP 数据包。
  - 基本每个路由器都有WAN口，当然也有路由猫这种特例。
  - 一般路由器都会有一个WAN口，也有多个WAN口的路由。
    - ![](https://imgsa.baidu.com/exp/w=500/sign=2eff9eaa8135e5dd902ca5df46c7a7f5/bd3eb13533fa828bc723e31bf91f4134960a5ac1.jpg)
  - WAN的应用场景：
    - 1，从猫引出的来网线，要插到路由器的WAN口
    - 2，二级路由，上级网线插到二级路由的WAN口
    - ![](https://imgsa.baidu.com/exp/w=500/sign=9426515d0e7b02080cc93fe152d8f25f/f7246b600c33874411d85684550fd9f9d72aa02d.jpg)
- （3）`WLAN` 全称Wireless LAN, **无线**局域网。
  - 和LAN不同，WLAN的数据通过电磁波传输，也就是常说的空气传输。WLAN 利用电磁波在空气中发送和接受数据，而无需线缆介质。
  - WLAN 使用 ISM (Industrial、Scientific、Medical) 无线电广播频段通信。WLAN 的 802.11a 标准使用 5 GHz 频段，支持的最大速度为 54 Mbps，而 802.11b 和 802.11g 标准使用 2.4 GHz 频段，分别支持最大 11 Mbps 和 54 Mbps 的速度。最新的11AC已经达到竟然的1.3Gbps。由于WLAN采用全新的802.11协议，其设置要比普通的有线路由器复杂
  - ![](https://imgsa.baidu.com/exp/w=500/sign=8ebddcdbb47eca80120539e7a1229712/a6efce1b9d16fdfa93fdbc16b08f8c5495ee7bb0.jpg)
总结：
- WAN口是对外的接口，和运营商、上级网络打交道。
- LAN和WLAN是对内的接口，内部的电脑、手机、PAD，都是接入到LAN或者WLAN。
一般的无线路由器，包含了完整的LAN、WAN、WLAN功能。
- ![](https://imgsa.baidu.com/exp/w=500/sign=198ca5d7ba096b6381195e503c318733/96dda144ad345982a17d876a08f431adcaef8456.jpg)
- 参考：[路由器的LAN、WAN、WLAN的区别](https://www.cnblogs.com/Renyi-Fan/p/8092521.html)


路由器WAN口和LAN口的区别
- WAN口主要用于连接**外部**网络，如ADSL、DDN、以太网等各种接入线路;
- LAN口用来连接家庭**内部**网络，主要与家庭网络中的交换机、集线器或PC相连。
可以说这两类网口一类对外，一类对内。将网络运营商提供的接入网线插在WAN口上，然后将几台共享上网的电脑接到LAN口上，然后用一台电脑登录路由器的管理界面进行相应的配置即可完成共享上网了。

## 网关

- 局域网里，集线器就是网关
- 2层网络里，交换机就是网关
- 3层网络里路由就是网关
- 说网关要看你的网是多大的，要拿中国来说，连着美国那台世界服务器的设备就是网关
- ![](https://img-blog.csdn.net/20160822203418755?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)


## AP 应用接入点

`无线AP`（Access Point）：即**无线接入点**，它用于无线网络的**无线交换机**，也是无线网络的**核心**。
- 无线AP是移动计算机用户进入**有线**网络的接入点，主要用于宽带家庭、大楼内部以及园区内部，可以覆盖几十米至上百米。
- 无线AP（又称会话点或存取桥接器）是一个包含很广的名称，它不仅包含单纯性无线接入点（无线AP），同样也是无线路由器（含无线网关、无线网桥）等类设备的统称。

【2022-2-21】案例：办公室1-2排局部断网，其它工位正常；挪动下笔记本位置，重新接入公司wifi后，再回到原工位就恢复正常→工位边上ap坏了

### 无线AP

**无线接入点**（AP）：电信级无线覆盖设备，相当于一个连接**有线网**和**无线网**的**桥**，其主要作用是将各个无线网络客户端连接到一起，实现大范围、多用户的无线接，根据应用场景不同，AP通常可分为**室内型**和**室外型**，室内环境下覆盖范围通常在30米~100米，室外环境最大覆盖范围可达到800米。

### AC控制器

接入控制器（AC）：无线局域网接入控制设备，负责将来自不同AP的数据进行汇聚并接入Interne，同时完成AP设备的配置管理和无线用户的认证、管理，以及带宽、访问、切换、安全等控制功能。

AC强大的管理和控制功能，能够构建出个性化、专业化的WLAN解决方案。

### 无线瘦AP

“瘦”AP：无线接入点也称无线网桥、无线网关。此无线设备的传输机制相当于有线网络中的集线器，在无线局域网中不停地接收和传送数据；任何一台装有无线网卡的PC均可通过AP来分享有线局域网络甚至广域网络的资源。理论上，当网络中增加一个无线AP之后，即可成倍地扩展网络覆盖直径；还可使网络中容纳更多的网络设备。每个无线AP基本上都拥有一个以太网接口，用于实现无线与有线的连接。

### 无线胖AP

胖AP：其学名应该称之为无线路由器。一般具备WAN、LAN两个接口，多支持DHCP服务器、DNS和MAC地址克隆，以及VPN接入、防火墙等安全功能。

### 胖瘦AP比较

胖AP是单个独立可以管理的无线AP。瘦AP就必须配合**无线控制器**使用！瘦AP本身是没有管理能力的！只能通过控制器才具备胖AP的功能！失去控制器将无法正常使用！胖瘦一体AP是具有单个管理也可以用AC控制器统一管理。

### WLAN演进：胖AP到瘦AP

最早的WLAN设备，将多种功能集为一身，如：物理层、链路层、用户数据加密、用户的认证、QoS、安全策略、用户 的管理及其他应用层功能集为一体，传统将这类WLAN设备俗称为“胖”AP。

“胖”AP的特点是配置灵活、安装简单、性价比高，但AP之间相互独立，无法适合用户密度高、多个AP连续覆盖等环境复杂的场所。

为此产生集中控制型**AC+AP设备**，通过集中控制器AC和轻量级AP配合，实现“胖”AP设备的功能。其中，轻量级AP只保留物理链路层和 MAC功能，提供可靠、高性能的射频管理，包括802.11协议的无线连接；集中控制器AC集中所有的上层功能，包括安全、控制和管理等功能，与传统的 AP相比，轻量级AP实现的功能大大减弱，故俗称为“瘦”AP。

### 吸顶式无线AP

YA-3030大功率吸顶式无线AP，采用MIMO、OFDM、SDM、GI等技术，是基于IEEE 802.11n技术标准的无线接入设备，内置2*2MIMO双极化全向智能天线，超强无线传输性能，传输速率自适应，最高可达300M，覆盖更广，信号更强、更稳定。可广泛应用于酒店、商场、KTV、会议室、咖啡厅等娱乐场所无线WIFI网络覆盖。

# 案例

## 网吧电脑为什么快

【2021-12-16】[网吧网咖的电脑配置比家里的低，为什么速度却更快？](https://zhuanlan.zhihu.com/p/374210363)
- （1）**操作系统优化**：网吧的电脑系统十分**精简**，并且系统还是优化过的。很多用户从安装好系统后一直使用的都是系统默认设置。而网吧里的电脑，都开启了最佳性能模式。
- （2）**软件少**：电脑里面也没有安装过多的软件、没有自启动程序和多余的进程。只留下与游戏、直播、观影有关的软件。**后台程序**少了很多，减轻不少系统运行占用的资源，自然运行速度就快一些了。
- （3）**服务器**镜像：网吧系统的“还原功能”, 用户每次开机都是全新的**镜像**启动，进入的是干干净净的新系统。这就是为什么，出现问题的时候，网管通常会叫你“重启试试”，直接搞一个全新的系统使用，自然也就没有问题了~
- （4）**光纤通信**：家里装的无线一般只供一台电脑或者是供手机使用就足够了，基本都是100兆左右。但是网吧里的网几乎都是千兆网或者是几万兆的网。
- （5）**无硬盘**：电脑是必须从硬盘上读取数据的。但网吧电脑大多数不用硬盘，因为它有“**无盘服务器**”，类似于固态硬盘的作用。电脑由网卡唤醒后，直接加载“无盘服务器”里的镜像系统启动，包括启动软件和游戏时也一样。那么，在网吧的千兆网光纤组成的局域网下，从服务器读取数据的速度肯定是高于硬盘的。虽然网吧电脑配置不一定比得上你的电脑，但是在游戏场所中，还是会备配一些中高性能cpu显卡，比如NVIDIA特供的GTX 1063。
- ![](https://pic3.zhimg.com/80/v2-e8c4fcbde4137bb40a39b988f460b1e2_1440w.jpg)

## 如何连接两个路由器

[如何连接两个路由器](https://zhuanlan.zhihu.com/p/32274871)

### 方法1：使用以太网连接两个路由器

设置主路由、副路由
- 主路由器将直接与调制解调器连接
- 副路由器主要用于拓展网络信号。可以选择旧型号的路由器作为附属路由器。此外，如果要创建LAN-to-WAN网络，该路由器还将控制附属网络。

LAN-to-LAN或LAN-to-WAN网络连接方式
- LAN-to-LAN（局域网）连接方式可以**扩展网络**，允许更多设备连接到网络中。每个设备都可以访问网络中其他设备共享的文件和资源。
  - 用DHCP服务的默认设置。
- LAN-to-WAN（广域网）连接方式在主网络（WAN）中创建一个**子局域网**。优点是可以对子网中的设备访问设定一定限制，而缺点是子网中的设备无法与主网络共享文件和资源。
  - 该模式下，可以修改子局域网的DNS设置，从而限制子网中设备能够访问的网站。此外，子网中的设备也更安全，黑客访问它们也会更加困难。因此家长可以用此来监控孩子访问互联网。
  - 开启主路由器的DHCP服务，自动分配192.168.1.2与192.168.1.50之间的IP地址。

## 查看wifi密码

mac环境： [如何查看Mac上已连接WiFi的密码？](https://zhuanlan.zhihu.com/p/104847180)
- 打开“钥匙串访问”，在其左侧的“钥匙串”列表中选择“系统”，右侧栏就会出现与系统有关的各类密钥。
- 找到你需要连接的WiFi名称，右击，选择“将密码拷贝到剪贴板”

Windows环境

```shell
netsh wlan show profiles # 查看连接过的wifi
netsh wlan show profiles name ＝ “当前用户配置文件名” key ＝ clear # 查看wifi密码
# “安全设置”—>“安全密钥”
```

## 为什么颜色网站会卡顿

【2022-10-5】[为什么你在进入学习网站的时候总会卡一下](https://www.toutiao.com/video/7137983408562556198/)，站点打开后，往往会停顿一段时间才弹出界面，大部人以为只是网页卡顿原因，毕竟裤子都脱了不在乎这点时间，导致成千上万人身体倍榨干的同时还帮黑客赚了钱
- 只是为了赚取一点广告费吗？那就太天真了，很多颜色网站会内置挖矿程序，植入js脚本，这样做的不只是颜色网站，还有免费电影、小说网站，只要进入此类网站，js脚本就会自动执行，占用大量CPU资源，挖取大量虚拟币，使电脑卡顿发热



# 网络协议

网络协议：为在网络中传输数据而对数据定义的一系列标准或规则。
- ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/f70d8dd274b447c19b71efb49a721f65?from=pc)

## OSI

为规范和定义通信网络，将通信功能按照逻辑分为不同功能层级的概念模型，分为 7 层。
- 计算机网络里的 **OSI七层模型** 或 **TCP/IP五层模型**，即应用层（应用层、表示层、会话层）、传输层、网络层、数据链路层、物理层，简称：<font color='red'>应表会传网数物</font>
- ![](https://pic4.zhimg.com/50/v2-6531ff0d8cbf967211297ef7c7813ab1_hd.jpg)

- [OSI七层模型](https://www.toutiao.com/w/a1701287080764423/)
  - ![](https://p5.toutiaoimg.com/img/tos-cn-i-0022/d2916c97afc94b9daa01bdaca34759a0~tplv-obj:1575:2227.image?from=post)


## TCP/IP

TCP/IP 模型：也叫做**互联网协议栈**，是目前互联网所使用的通信模型，由 TCP 协议和 IP 协议的规范发展而来，分为 4 层
- 由OSI精简而来，应用层包含了OSI模型的应用层、表示层和会话层，网络接入层包含了物理层和数据链路层
- ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/27bb2de59f754ba4b32509c4dfe09ca7?from=pc)

TCP/IP 是互联网相关的各类协议族的总称，比如：TCP，UDP，IP，FTP，HTTP，ICMP，SMTP 等都属于 TCP/IP 族内的协议。

TCP/IP模型是互联网的基础，它是一系列网络协议的总称。这些协议可以划分为四层，分别为链路层、网络层、传输层和应用层。
- 链路层：负责封装和解封装IP报文，发送和接受ARP/RARP报文等。
- 网络层：负责路由以及把分组报文发送给目标网络或主机。
- 传输层：负责对报文进行分组和重组，并以TCP或UDP协议格式封装报文。
- 应用层：负责向用户提供应用程序，比如HTTP、FTP、Telnet、DNS、SMTP等。

详解
- 应用层：指 OSI 模型的第 7 层，也是 TCP/IP 模型的第 4 层，是离用户最近的一层，用户通过应用软件和这一层进行交互。理论上，在 TCP/IP 模型中，应用层也包含了 OSI 模型中的表示层和会话层的功能。但表示层和会话层的实用性不强，应用层在两种模型中区别不大。
  - 应用协议：电子邮件协议、远程登录协议、文件传输协议
- 传输层：指 OSI 模型的第 4 层，也是 TCP/IP 模型的第 3 层，在两个模型中区别不大，负责规范数据传输的功能和流程。
- 网络层：指 OSI 模型的第 3 层，这一层是规范如何将数据从源设备转发到目的设备。
- 数据链路层：OSI 模型的第 2 层，规范在直连节点或同一个局域网中的节点之间，如何实现数据传输。另外，这一层也负责检测和纠正物理层在传输数据过程中造成的错误。
  - 数据帧：经过数据链路层协议封装后的数据。
  - ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/b2655db145564181b815eb00fefdae31?from=pc)
- 物理层：OSI 模型的第 1 层，这一层的服务是规范物理传输的相关标准，实现信号在两个设备之间进行传输。
  - ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/45a14a1b8e4d4d99bea0c482147d3749?from=pc)

[一条视频讲清楚TCP协议与UDP协议-什么是三次握手与四次挥手](https://www.ixigua.com/6965440376727732739)

<iframe width="720" height="405" frameborder="0" src="https://www.ixigua.com/iframe/6965440376727732739?autoplay=0" referrerpolicy="unsafe-url" allowfullscreen></iframe>


## 发送过程

- 封装：发送方设备按照协议标准定义的格式及相关参数添加到转发数据上，来保障通信各方执行协议标准的操作。
  - ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/35f27ee633694dac875aa7567d90a301?from=pc)
- 解封装：接收方设备拆除发送方设备封装的数据，还原转发数据的操作。
  - ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/592ae695ae3a4475a6b5ac8cc23c36cb?from=pc)
- 头部：按照协议定义的格式封装在数据上的协议功能数据和参数。


## TCP

当一台计算机想要与另一台计算机通讯时，两台计算机之间的通信需要畅通且可靠，这样才能保证正确收发数据。例如，当你想查看网页或查看电子邮件时，希望完整且按顺序查看网页，而不丢失任何内容。当你下载文件时，希望获得的是完整的文件，而不仅仅是文件的一部分，因为如果数据丢失或乱序，都不是你希望得到的结果，于是就用到了TCP。

TCP协议全称是传输控制协议是一种面向连接的、可靠的、基于字节流的传输层通信协议，由 IETF 的RFC 793定义。TCP 是面向连接的、可靠的流协议。流就是指不间断的数据结构，你可以把它想象成排水管中的水流。

1. TCP连接过程 （三次握手）
  - 建立一个TCP连接的过程为（三次握手的过程）:
  - 第一次握手: 客户端向服务端发送连接请求报文段。该报文段中包含自身的数据通讯初始序号。请求发送后，客户端便进入 SYN-SENT 状态。
  - 第二次握手: 服务端收到连接请求报文段后，如果同意连接，则会发送一个应答，该应答中也会包含自身的数据通讯初始序号，发送完成后便进入 SYN-RECEIVED 状态。
  - 第三次握手: 当客户端收到连接同意的应答后，还要向服务端发送一个确认报文。客户端发完这个报文段后便进入 ESTABLISHED 状态，服务端收到这个应答后也进入 ESTABLISHED 状态，此时连接建立成功。
  - 疑惑：为什么 TCP 建立连接需要三次握手，而不是两次？这是因为这是为了防止出现失效的连接请求报文段被服务端接收的情况，从而产生错误。
  - ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/7543339b7f8d4465bb7bb580110861bb?from=pc)
1. TCP断开链接 （四次握手）
  - TCP 是全双工的，在断开连接时两端都需要发送 FIN 和 ACK。
  - 第一次挥手: 若客户端 A 认为数据发送完成，则它需要向服务端 B 发送连接释放请求。
  - 第二次挥手: 收到连接释放请求后，会告诉应用层要释放 TCP 链接。然后会发送 ACK 包，并进入 CLOSE_WAIT 状态，此时表明 A 到 B 的连接已经释放，不再接收 A 发的数据了。但是因为 TCP 连接是双向的，所以 B 仍旧可以发送数据给 A。
  - 第三次挥手: 如果此时还有没发完的数据会继续发送，完毕后会向 A 发送连接释放请求，然后 B 便进入 LAST-ACK 状态。
  - 第四次挥手: 收到释放请求后，向 B 发送确认应答，此时 A 进入 TIME-WAIT 状态。该状态会持续 2MSL（最大段生存期，指报文段在网络中生存的时间，超时会被抛弃） 时间，若该时间段内没有 B 的重发请求的话，就进入 CLOSED 状态。当 B 收到确认应答后，也便进入 CLOSED 状态。
1. TCP协议的特点
  - 面向连接: 面向连接，是指发送数据之前必须在两端建立连接。建立连接的方法是“三次握手”，这样能建立可靠的连接。建立连接，是为数据的可靠传输打下了基础。
  - 仅支持单播传输: 每条TCP传输连接只能有两个端点，只能进行点对点的数据传输，不支持多播和广播传输方式。 
  - 面向字节流: TCP不像UDP一样那样一个个报文独立地传输，而是在不保留报文边界的情况下以字节流方式进行传输。 
  - 可靠传输: 对于可靠传输，判断丢包，误码靠的是TCP的段编号以及确认号。TCP为了保证报文传输的可靠，就给每个包一个序号，同时序号也保证了传送到接收端实体的包的按序接收。然后接收端实体对已成功收到的字节发回一个相应的确认(ACK)；如果发送端实体在合理的往返时延(RTT)内未收到确认，那么对应的数据（假设丢失了）将会被重传。
  - 提供拥塞控制: 当网络出现拥塞的时候，TCP能够减小向网络注入数据的速率和数量，缓解拥塞
  - TCP提供全双工通信: TCP允许通信双方的应用程序在任何时候都能发送数据，因为TCP连接的两端都设有缓存，用来临时存放双向通信的数据。当然，TCP可以立即发送一个数据段，也可以缓存一段时间以便一次发送更多的数据段（最大的数据段大小取决于MSS）
- ![动图](https://img-blog.csdnimg.cn/img_convert/5ea0a4193a17109528644ebac51a8b40.gif)



## UDP

UDP协议全称是用户数据报协议，在网络中它与TCP协议一样用于处理数据包，是一种无连接的协议。在OSI模型中，在第四层——传输层，处于IP协议的上一层。UDP有不提供数据包分组、组装和不能对数据包进行排序的缺点，也就是说，当报文发送之后，是无法得知其是否安全完整到达的。

它有以下几个特点：

1. 面向无连接
  - 首先 UDP 是不需要和 TCP一样在发送数据前进行三次握手建立连接的，想发数据就可以开始发送了。并且也只是数据报文的搬运工，不会对数据报文进行任何拆分和拼接操作。
  - 具体来说就是：
    - 在发送端，应用层将数据传递给传输层的 UDP 协议，UDP 只会给数据增加一个 UDP 头标识下是 UDP 协议，然后就传递给网络层了
    - 在接收端，网络层将数据传递给传输层，UDP 只去除 IP 报文头就传递给应用层，不会任何拼接操作
2. 有单播，多播，广播的功能
  - UDP 不止支持一对一的传输方式，同样支持一对多，多对多，多对一的方式，也就是说 UDP 提供了单播，多播，广播的功能。
3. UDP是面向报文的
  - 发送方的UDP对应用程序交下来的报文，在添加首部后就向下交付IP层。UDP对应用层交下来的报文，既不合并，也不拆分，而是保留这些报文的边界。因此，应用程序必须选择合适大小的报文
4. 不可靠性
  - 首先不可靠性体现在无连接上，通信都不需要建立连接，想发就发，这样的情况肯定不可靠。
  - 并且收到什么数据就传递什么数据，并且也不会备份数据，发送数据也不会关心对方是否已经正确接收到数据了。
  - 再者网络环境时好时坏，但是 UDP 因为没有拥塞控制，一直会以恒定的速度发送数据。即使网络条件不好，也不会对发送速率进行调整。这样实现的弊端就是在网络条件不好的情况下可能会导致丢包，但是优点也很明显，在某些实时性要求高的场景（比如电话会议）就需要使用 UDP 而不是 TCP。

UDP只会把想发的数据报文一股脑的丢给对方，并不在意数据有无安全完整到达。
- ![动图](https://img-blog.csdnimg.cn/img_convert/f94c7f0d5acb2f59726684dcf0be50ca.gif)

## TCP与UDP

[一文搞懂TCP与UDP的区别](https://blog.csdn.net/AN0692/article/details/114842039)
- TCP向上层提供面向连接的可靠服务 ，UDP向上层提供无连接不可靠服务。
- 虽然 UDP 并没有 TCP 传输来的准确，但是也能在很多实时性要求高的地方有所作为
- 对数据准确性要求高，速度可以相对较慢的，可以选用TCP

| 维度 | UDP | TCP |
|---|---|---|
| 是否连接 | 无连接 | 面向连接 |
| 是否可靠 | 不可靠传输，不使用流量控制和拥塞控制 | 可靠传输，使用流量控制和拥塞控制 |
| 连接对象个数 | 支持一对一，一对多，多对一和多对多交互通信 | 只能是一对一通信 |
| 传输方式 | 面向报文 | 面向字节流 |
| 首部开销 | 首部开销小，仅8字节 | 首部最小20字节，最大60字节 |
| 适用场景 | 适用于实时应用（IP电话、视频会议、直播等） | 适用于要求可靠传输的应用，例如文件传输 |

## IEEE

- IEEE 802.3 ：IEEE 组织定义的以太网技术标准，即有线网络标准。
  - ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/7a521813130a4e928a5c2a1aef91bbb5?from=pc)
- IEEE 802.11 ：IEEE 组织定义的无线局域网标准。
  - ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/96a6c76680a043b89c4fa3a02f6ffab9?from=pc)

## ARP

ARP ：全称是地址解析协议，通过目的 IP 地址解析目的设备 MAC 地址。
- ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/4184db81c8d64af89d35ef42500331db?from=pc)


## HTTP

- HTTP ：全称是**超文本传输协议**，客户端可以通过与服务器之间建立的连接，来传输 Web 超文本信息的应用层协议。
  - ![](https://p26.toutiaoimg.com/origin/tos-cn-i-qvj2lq49k0/3b973d8620e54380af05f0fb5a339632?from=pc)
- SSL ：全称是安全套接字层，是网景公司开发的技术，在 TCP 与应用层协议之间插入一层，为应用层提供额外的信息安全防护措施。
- TLS ：全称是传输层安全，是 IETF 对 SSL 协议进行标准化的结果，与 SSL 差别不大，但不相互兼容。
- HTTPS ：全称是安全的超文本传输协议，客户端通过 SSL/TLS 与服务器之间建立安全的 HTTP 连接，以传输超文本信息。
- 用户代理：在电子邮件的架构中，用户代理指终端用户用来收发邮件的电子邮件客户端。
- SMTP ：全称是简单邮件传输协议，定义了邮件服务器之间相互传输邮件的标准与流程。
- 邮件访问协议：定义了接收方用户代理如何从邮件服务器获取邮件的协议。
- POP3 ：全称是邮局协议版本 3 ，定义了接收方用户代理对接收方邮件服务器执行下载、删除邮件等命令的流程及标准。

# 结束